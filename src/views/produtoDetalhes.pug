doctype html
html(lang="pt-br")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title= produto.nome
    link(rel="stylesheet", href="/css/style.css")
  body
    
    // Botão Voltar fora do container
    a(href="/", style="display: inline-block; margin: 20px;")
      button(style="background-color: #b7410e; color: #fff; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;") Voltar

    main
      .produto-detalhes-container(style="background-color: #b7410e; padding: 20px; border-radius: 10px; max-width: 1000px; margin: 0 auto; color: #fff;")
        
        .produto-container
          
          // Carousel de imagens
          if produto.imagens
            - const imagens = JSON.parse(produto.imagens);
            if imagens.length
              .carousel(style="display: flex; overflow-x: auto; gap: 10px; margin-bottom: 20px;")
                each imgSrc, index in imagens
                  img(src='/' + imgSrc, alt=produto.nome + " " + (index + 1), class="produto-img", style="width: 250px; height: 250px; object-fit: cover; border-radius: 5px;")

          // Informações do produto
          .produto-info(style="margin-bottom: 20px;")
            h1(style="margin-bottom: 10px;")= produto.nome
            p.preco R$ #{produto.preco.toFixed(2)}
            if produto.desconto > 0
              p.desconto Desconto: #{produto.desconto} %
            if produto.Categoria
              p Categoria: #{produto.Categoria.nome}
            p Tamanho: #{produto.tamanho}
            p Descrição: #{produto.descricao}

          // Botões de ação
          .produto-acoes(style="display: flex; gap: 10px; flex-wrap: wrap;")
            form(action="/carrinho/adicionar/" + produto.id, method="post")
              button(type="submit", class="btn-carrinho", style="background-color: #fff; color: #b7410e; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;") Adicionar ao Carrinho

            if usuario && usuario.tipo === 'admin'
              form(action="/produtos/deletar/" + produto.id, method="post")
                button(type="submit", class="btn-deletar", style="background-color: #fff; color: red; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;") Excluir Produto
              a(href="/produtos/" + produto.id + "/editar")
                button(class="btn-editar", style="background-color: #fff; color: #000; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;") Editar Produto
